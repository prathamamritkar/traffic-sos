/**
 * puneRoutes.ts — Road-accurate polylines for Pune demo scenarios.
 * AUTO-GENERATED from OSRM on 2026-02-22T05:42:19.494Z
 * Coordinate format: [lat, lng] (Leaflet convention)
 */

// ── Green Corridor Segment Geometries ───────────────────────
export const CORRIDOR_GEOMETRIES: Record<string, [number, number][]> = {
    // Kothrud Chowk → Nal Stop (Karve Road)
    'SIG-PUN-01→SIG-PUN-02': [
        [18.5033900, 73.8100040],
        [18.5034170, 73.8107610],
        [18.5031270, 73.8107530],
        [18.5027750, 73.8107430],
        [18.5025390, 73.8107320],
        [18.5019830, 73.8107120],
        [18.5019810, 73.8107330],
        [18.5019730, 73.8107530],
        [18.5019950, 73.8108180],
        [18.5020310, 73.8110620],
        [18.5020430, 73.8111690],
        [18.5020840, 73.8115140],
        [18.5020990, 73.8116680],
        [18.5021120, 73.8117940],
        [18.5021670, 73.8121100],
        [18.5021610, 73.8122490],
        [18.5021730, 73.8124020],
        [18.5021820, 73.8125190],
        [18.5021840, 73.8126580],
        [18.5021770, 73.8128800],
        [18.5021530, 73.8133360],
        [18.5021750, 73.8133510],
        [18.5021890, 73.8133660],
        [18.5021880, 73.8135780],
        [18.5021750, 73.8136000],
        [18.5021570, 73.8136100],
        [18.5021140, 73.8136150],
        [18.5021090, 73.8137030],
        [18.5021020, 73.8138380],
        [18.5021030, 73.8139300],
        [18.5021030, 73.8140260],
        [18.5021050, 73.8142140],
        [18.5021060, 73.8144110],
        [18.5021400, 73.8144870],
        [18.5021450, 73.8147650],
        [18.5021480, 73.8149350],
        [18.5021500, 73.8150470],
        [18.5021420, 73.8152040],
        [18.5021290, 73.8154480],
        [18.5021340, 73.8154780],
        [18.5021410, 73.8155230],
        [18.5021580, 73.8156280],
        [18.5022510, 73.8161980],
        [18.5023180, 73.8165040],
        [18.5024150, 73.8169410],
        [18.5024750, 73.8171630],
        [18.5024990, 73.8172530],
        [18.5025760, 73.8175360],
        [18.5027960, 73.8182740],
        [18.5028110, 73.8183250],
        [18.5028640, 73.8184860],
        [18.5028840, 73.8185490],
        [18.5029970, 73.8188920],
        [18.5031890, 73.8193980],
        [18.5032760, 73.8196040],
        [18.5033700, 73.8197790],
        [18.5034850, 73.8199260],
        [18.5035340, 73.8199880],
        [18.5036330, 73.8201260],
        [18.5036760, 73.8201870],
        [18.5038700, 73.8204660],
        [18.5041480, 73.8209120],
        [18.5042110, 73.8210130],
        [18.5042500, 73.8210760],
        [18.5042900, 73.8211430],
        [18.5043440, 73.8212330],
        [18.5044710, 73.8214460],
        [18.5045110, 73.8215230],
        [18.5046570, 73.8218040],
        [18.5048880, 73.8223210],
        [18.5049440, 73.8224460],
        [18.5051200, 73.8228560],
        [18.5051340, 73.8228900],
        [18.5051420, 73.8229140],
        [18.5053090, 73.8233970],
        [18.5054140, 73.8237780],
        [18.5055330, 73.8242120],
        [18.5056440, 73.8246170],
        [18.5057230, 73.8249000],
        [18.5057330, 73.8249300],
        [18.5057810, 73.8250750],
        [18.5059720, 73.8254650],
        [18.5060020, 73.8256030],
        [18.5060420, 73.8257270],
        [18.5060580, 73.8257770],
        [18.5061570, 73.8260280],
        [18.5063160, 73.8264210],
        [18.5067160, 73.8272620],
        [18.5067940, 73.8274330],
        [18.5068330, 73.8275180],
        [18.5069110, 73.8277100],
        [18.5070860, 73.8280970],
        [18.5071140, 73.8281590],
        [18.5074960, 73.8289270],
        [18.5075800, 73.8290840],
        [18.5076430, 73.8292020],
        [18.5076890, 73.8292690],
        [18.5077320, 73.8293330],
        [18.5081880, 73.8302180],
        [18.5084330, 73.8306940],
        [18.5084890, 73.8308010],
        [18.5083510, 73.8308830],
        [18.5083340, 73.8308490],
        [18.5082920, 73.8307670],
        [18.5080880, 73.8303710],
        [18.5076360, 73.8294940],
        [18.5075940, 73.8294120],
        [18.5075350, 73.8292540],
        [18.5075250, 73.8292370],
        [18.5073890, 73.8290000],
        [18.5072730, 73.8287300],
        [18.5072670, 73.8287180],
    ],

    // Nal Stop → Deccan Gymkhana (Karve Rd / JM Rd)
    'SIG-PUN-02→SIG-PUN-03': [
        [18.5072670, 73.8287180],
        [18.5071340, 73.8284530],
        [18.5070240, 73.8282280],
        [18.5069360, 73.8280530],
        [18.5068930, 73.8279420],
        [18.5068370, 73.8277500],
        [18.5067670, 73.8277110],
        [18.5066980, 73.8275700],
        [18.5066230, 73.8274080],
        [18.5065880, 73.8273350],
        [18.5064650, 73.8270740],
        [18.5063710, 73.8268740],
        [18.5062600, 73.8266400],
        [18.5061800, 73.8264710],
        [18.5060400, 73.8261090],
        [18.5060230, 73.8260650],
        [18.5059630, 73.8259060],
        [18.5059100, 73.8257480],
        [18.5058110, 73.8254840],
        [18.5059720, 73.8254650],
        [18.5060020, 73.8256030],
        [18.5060420, 73.8257270],
        [18.5060580, 73.8257770],
        [18.5061570, 73.8260280],
        [18.5063160, 73.8264210],
        [18.5067160, 73.8272620],
        [18.5067940, 73.8274330],
        [18.5068330, 73.8275180],
        [18.5069110, 73.8277100],
        [18.5070860, 73.8280970],
        [18.5071140, 73.8281590],
        [18.5074960, 73.8289270],
        [18.5075800, 73.8290840],
        [18.5076430, 73.8292020],
        [18.5076930, 73.8293550],
        [18.5097800, 73.8334090],
        [18.5098960, 73.8335800],
        [18.5100110, 73.8338080],
        [18.5100890, 73.8339650],
        [18.5101170, 73.8340210],
        [18.5101510, 73.8340890],
        [18.5102380, 73.8342610],
        [18.5103780, 73.8345420],
        [18.5105080, 73.8348420],
        [18.5106500, 73.8351710],
        [18.5107440, 73.8353720],
        [18.5109720, 73.8358150],
        [18.5110990, 73.8360970],
        [18.5111250, 73.8361460],
        [18.5112170, 73.8363570],
        [18.5112420, 73.8364070],
        [18.5113640, 73.8366570],
        [18.5114800, 73.8368920],
        [18.5115920, 73.8371100],
        [18.5116520, 73.8372260],
        [18.5116700, 73.8372620],
        [18.5117030, 73.8373280],
        [18.5117250, 73.8373720],
        [18.5117400, 73.8374020],
        [18.5118850, 73.8376950],
        [18.5121150, 73.8381590],
        [18.5122640, 73.8384650],
        [18.5124290, 73.8388030],
        [18.5125180, 73.8389840],
        [18.5126580, 73.8392720],
        [18.5127780, 73.8395500],
        [18.5128650, 73.8397530],
        [18.5128880, 73.8398130],
        [18.5131280, 73.8404480],
        [18.5131590, 73.8405300],
        [18.5131770, 73.8405750],
        [18.5132020, 73.8406370],
        [18.5132530, 73.8407610],
        [18.5133430, 73.8409230],
        [18.5134550, 73.8410910],
        [18.5135750, 73.8412150],
        [18.5137110, 73.8413570],
        [18.5138460, 73.8415000],
        [18.5139080, 73.8415660],
        [18.5144050, 73.8421050],
        [18.5144810, 73.8422080],
        [18.5144840, 73.8422110],
        [18.5145140, 73.8422600],
        [18.5145490, 73.8423270],
        [18.5145990, 73.8423190],
        [18.5146810, 73.8423070],
        [18.5147010, 73.8423020],
        [18.5147280, 73.8422950],
        [18.5154060, 73.8421120],
        [18.5154720, 73.8420950],
        [18.5156950, 73.8420320],
        [18.5157440, 73.8420200],
        [18.5160630, 73.8419600],
        [18.5161970, 73.8419220],
        [18.5163960, 73.8418660],
        [18.5169140, 73.8417360],
        [18.5172510, 73.8416600],
        [18.5173640, 73.8416330],
        [18.5174250, 73.8416180],
        [18.5174960, 73.8416040],
        [18.5175310, 73.8415750],
        [18.5175530, 73.8415460],
        [18.5175580, 73.8415360],
    ],

    // University Jct → Shivajinagar (FC Road)
    'SIG-PUN-05→SIG-PUN-04': [
        [18.5530290, 73.8248540],
        [18.5528950, 73.8248240],
        [18.5526170, 73.8247510],
        [18.5523910, 73.8247250],
        [18.5521910, 73.8246520],
        [18.5520850, 73.8246130],
        [18.5518570, 73.8245190],
        [18.5515660, 73.8243990],
        [18.5514930, 73.8243550],
        [18.5513340, 73.8242610],
        [18.5512480, 73.8241930],
        [18.5512010, 73.8241800],
        [18.5511550, 73.8241690],
        [18.5511060, 73.8241580],
        [18.5510570, 73.8241510],
        [18.5509130, 73.8241390],
        [18.5508290, 73.8241310],
        [18.5506950, 73.8241260],
        [18.5505280, 73.8241390],
        [18.5504230, 73.8241530],
        [18.5502810, 73.8241790],
        [18.5500510, 73.8242420],
        [18.5498720, 73.8243090],
        [18.5497310, 73.8243600],
        [18.5495500, 73.8244390],
        [18.5493400, 73.8245430],
        [18.5492170, 73.8246130],
        [18.5488410, 73.8249010],
        [18.5486570, 73.8250420],
        [18.5479660, 73.8255680],
        [18.5474060, 73.8259220],
        [18.5467920, 73.8263050],
        [18.5442980, 73.8279750],
        [18.5439070, 73.8282400],
        [18.5433910, 73.8285370],
        [18.5431560, 73.8286720],
        [18.5429850, 73.8287010],
        [18.5428000, 73.8287330],
        [18.5426170, 73.8287440],
        [18.5424720, 73.8287480],
        [18.5422460, 73.8288720],
        [18.5419990, 73.8292600],
        [18.5419750, 73.8292980],
        [18.5418760, 73.8294440],
        [18.5415730, 73.8298910],
        [18.5414990, 73.8300090],
        [18.5409300, 73.8308140],
        [18.5404590, 73.8315380],
        [18.5401140, 73.8320660],
        [18.5398260, 73.8324890],
        [18.5397400, 73.8326270],
        [18.5394090, 73.8331050],
        [18.5390840, 73.8335460],
        [18.5386940, 73.8340330],
        [18.5381220, 73.8347410],
        [18.5379530, 73.8349810],
        [18.5377780, 73.8352180],
        [18.5375580, 73.8354830],
        [18.5371170, 73.8359560],
        [18.5370550, 73.8360230],
        [18.5368690, 73.8362250],
        [18.5366880, 73.8364590],
        [18.5363160, 73.8369410],
        [18.5358730, 73.8375070],
        [18.5355450, 73.8378970],
        [18.5354720, 73.8380040],
        [18.5353270, 73.8382160],
        [18.5351950, 73.8384090],
        [18.5350810, 73.8385750],
        [18.5347540, 73.8390530],
        [18.5346250, 73.8392430],
        [18.5344180, 73.8395460],
        [18.5343910, 73.8395850],
        [18.5330000, 73.8416190],
        [18.5326480, 73.8421340],
        [18.5325380, 73.8422950],
        [18.5323660, 73.8425530],
        [18.5323060, 73.8426060],
        [18.5321880, 73.8427940],
        [18.5321040, 73.8429090],
        [18.5320180, 73.8430810],
        [18.5317340, 73.8439200],
        [18.5315560, 73.8444930],
        [18.5314540, 73.8448240],
        [18.5312520, 73.8456040],
        [18.5309310, 73.8469370],
        [18.5308240, 73.8474060],
    ],

};

// ── Ambulance Route Geometries ───────────────────────────────
export const AMBULANCE_ROUTE_GEOMETRIES: Record<string, [number, number][]> = {
    // Kothrud → Erandwane accident
    'ACC-DMO-001': [
        [18.5033900, 73.8100040],
        [18.5034170, 73.8107610],
        [18.5031270, 73.8107530],
        [18.5027750, 73.8107430],
        [18.5025390, 73.8107320],
        [18.5019830, 73.8107120],
        [18.5019810, 73.8107330],
        [18.5019730, 73.8107530],
        [18.5019570, 73.8107710],
        [18.5019370, 73.8107830],
        [18.5019140, 73.8107860],
        [18.5018970, 73.8107830],
        [18.5018910, 73.8107820],
        [18.5018710, 73.8107690],
        [18.5018570, 73.8107500],
        [18.5018490, 73.8107280],
        [18.5018490, 73.8107050],
        [18.5018560, 73.8106830],
        [18.5018690, 73.8106640],
        [18.5019320, 73.8105200],
        [18.5019410, 73.8105000],
        [18.5019740, 73.8103560],
        [18.5019710, 73.8103280],
        [18.5019780, 73.8103010],
        [18.5019950, 73.8102800],
        [18.5020180, 73.8102660],
        [18.5020440, 73.8102640],
        [18.5020690, 73.8102720],
        [18.5020760, 73.8102780],
        [18.5020940, 73.8102190],
        [18.5021190, 73.8101670],
        [18.5022470, 73.8100910],
        [18.5023310, 73.8100780],
        [18.5023530, 73.8100140],
        [18.5026330, 73.8096540],
        [18.5028440, 73.8094090],
        [18.5029770, 73.8092340],
        [18.5031160, 73.8090860],
        [18.5031180, 73.8090360],
        [18.5032820, 73.8088870],
        [18.5033110, 73.8088210],
        [18.5034690, 73.8086250],
        [18.5036050, 73.8084340],
        [18.5037040, 73.8083020],
        [18.5040700, 73.8077740],
        [18.5044850, 73.8077460],
        [18.5054830, 73.8077400],
        [18.5056860, 73.8077370],
        [18.5064060, 73.8077320],
        [18.5068400, 73.8077190],
        [18.5071910, 73.8077090],
        [18.5073820, 73.8076730],
        [18.5075250, 73.8076290],
        [18.5075620, 73.8077630],
        [18.5076000, 73.8078800],
        [18.5076420, 73.8079860],
        [18.5077030, 73.8081220],
        [18.5077890, 73.8082720],
        [18.5078890, 73.8084100],
        [18.5079970, 73.8085650],
        [18.5080780, 73.8087070],
        [18.5081420, 73.8088430],
        [18.5081930, 73.8089780],
        [18.5082410, 73.8091130],
        [18.5082750, 73.8092640],
        [18.5083140, 73.8095250],
        [18.5083300, 73.8096450],
        [18.5083380, 73.8097250],
        [18.5083530, 73.8098440],
        [18.5083790, 73.8099820],
        [18.5084070, 73.8101080],
        [18.5084530, 73.8102280],
        [18.5085170, 73.8103800],
        [18.5085730, 73.8104930],
        [18.5086400, 73.8106070],
        [18.5087210, 73.8107200],
        [18.5088660, 73.8108950],
        [18.5089640, 73.8110170],
        [18.5090590, 73.8111270],
        [18.5091380, 73.8112380],
        [18.5092320, 73.8113860],
        [18.5092940, 73.8115020],
        [18.5093460, 73.8116140],
        [18.5093830, 73.8117050],
        [18.5094160, 73.8117950],
        [18.5094530, 73.8119220],
        [18.5094880, 73.8120620],
        [18.5095080, 73.8121910],
        [18.5095160, 73.8122580],
        [18.5095310, 73.8124230],
        [18.5095340, 73.8125150],
        [18.5095410, 73.8126580],
        [18.5095610, 73.8130360],
        [18.5095820, 73.8133360],
        [18.5096130, 73.8136690],
        [18.5096300, 73.8138860],
        [18.5096700, 73.8141710],
        [18.5096880, 73.8143010],
        [18.5097080, 73.8144320],
        [18.5097790, 73.8148090],
        [18.5098340, 73.8150420],
        [18.5100120, 73.8154840],
        [18.5100780, 73.8156130],
        [18.5101180, 73.8156720],
        [18.5102110, 73.8158320],
        [18.5104060, 73.8162140],
        [18.5104790, 73.8163830],
        [18.5105060, 73.8164460],
        [18.5105720, 73.8166010],
        [18.5106940, 73.8168840],
        [18.5107290, 73.8170110],
        [18.5107980, 73.8172600],
        [18.5108100, 73.8173740],
        [18.5108350, 73.8176790],
        [18.5115850, 73.8175960],
        [18.5116150, 73.8179580],
        [18.5116400, 73.8182720],
        [18.5116800, 73.8186770],
        [18.5127890, 73.8185340],
        [18.5131420, 73.8184040],
        [18.5133140, 73.8183420],
    ],

    // University → Shivajinagar accident
    'ACC-DMO-002': [
        [18.5530290, 73.8248540],
        [18.5528950, 73.8248240],
        [18.5526170, 73.8247510],
        [18.5523910, 73.8247250],
        [18.5521910, 73.8246520],
        [18.5520850, 73.8246130],
        [18.5518570, 73.8245190],
        [18.5515660, 73.8243990],
        [18.5514930, 73.8243550],
        [18.5513340, 73.8242610],
        [18.5512480, 73.8241930],
        [18.5512010, 73.8241800],
        [18.5511550, 73.8241690],
        [18.5511060, 73.8241580],
        [18.5510570, 73.8241510],
        [18.5509130, 73.8241390],
        [18.5508290, 73.8241310],
        [18.5506950, 73.8241260],
        [18.5505280, 73.8241390],
        [18.5504230, 73.8241530],
        [18.5502810, 73.8241790],
        [18.5500510, 73.8242420],
        [18.5498720, 73.8243090],
        [18.5497310, 73.8243600],
        [18.5495500, 73.8244390],
        [18.5493400, 73.8245430],
        [18.5492170, 73.8246130],
        [18.5488410, 73.8249010],
        [18.5486570, 73.8250420],
        [18.5479660, 73.8255680],
        [18.5474060, 73.8259220],
        [18.5467920, 73.8263050],
        [18.5442980, 73.8279750],
        [18.5439070, 73.8282400],
        [18.5433910, 73.8285370],
        [18.5431560, 73.8286720],
        [18.5429850, 73.8287010],
        [18.5428000, 73.8287330],
        [18.5426170, 73.8287440],
        [18.5424720, 73.8287480],
        [18.5422460, 73.8288720],
        [18.5419990, 73.8292600],
        [18.5419750, 73.8292980],
        [18.5418760, 73.8294440],
        [18.5415730, 73.8298910],
        [18.5414990, 73.8300090],
        [18.5409300, 73.8308140],
        [18.5404590, 73.8315380],
        [18.5401140, 73.8320660],
        [18.5398260, 73.8324890],
        [18.5397400, 73.8326270],
        [18.5394090, 73.8331050],
        [18.5390840, 73.8335460],
        [18.5386940, 73.8340330],
        [18.5381220, 73.8347410],
        [18.5379530, 73.8349810],
        [18.5377780, 73.8352180],
        [18.5375580, 73.8354830],
        [18.5371170, 73.8359560],
        [18.5370550, 73.8360230],
        [18.5368690, 73.8362250],
        [18.5366880, 73.8364590],
        [18.5363160, 73.8369410],
        [18.5358730, 73.8375070],
        [18.5355450, 73.8378970],
        [18.5354720, 73.8380040],
        [18.5353270, 73.8382160],
        [18.5351950, 73.8384090],
        [18.5350810, 73.8385750],
        [18.5347540, 73.8390530],
        [18.5346250, 73.8392430],
        [18.5344180, 73.8395460],
        [18.5343910, 73.8395850],
        [18.5330000, 73.8416190],
        [18.5326480, 73.8421340],
        [18.5325380, 73.8422950],
        [18.5323660, 73.8425530],
        [18.5323060, 73.8426060],
        [18.5321880, 73.8427940],
        [18.5321500, 73.8429340],
        [18.5320460, 73.8431930],
        [18.5318530, 73.8437710],
        [18.5318060, 73.8439470],
        [18.5316260, 73.8445140],
        [18.5315870, 73.8446400],
        [18.5315510, 73.8447930],
        [18.5315330, 73.8448580],
        [18.5313830, 73.8454070],
        [18.5313240, 73.8456250],
        [18.5311800, 73.8461920],
        [18.5310910, 73.8465440],
        [18.5310730, 73.8466140],
        [18.5310080, 73.8468720],
        [18.5309910, 73.8469370],
        [18.5309030, 73.8473000],
        [18.5308180, 73.8474330],
        [18.5307470, 73.8477560],
        [18.5306430, 73.8482020],
        [18.5306290, 73.8482670],
        [18.5305350, 73.8486410],
        [18.5305250, 73.8486840],
        [18.5305050, 73.8487610],
        [18.5304850, 73.8488400],
        [18.5304520, 73.8489690],
        [18.5302850, 73.8496210],
        [18.5302490, 73.8497930],
        [18.5304530, 73.8497920],
        [18.5308160, 73.8497830],
        [18.5310920, 73.8497730],
        [18.5311530, 73.8497710],
        [18.5311530, 73.8497640],
        [18.5311600, 73.8497410],
        [18.5311740, 73.8497230],
        [18.5311930, 73.8497110],
        [18.5312150, 73.8497050],
        [18.5312380, 73.8497080],
        [18.5312580, 73.8497180],
        [18.5312740, 73.8497350],
        [18.5313890, 73.8496580],
        [18.5318530, 73.8495050],
    ],

    // Kothrud → Central Pune accident
    'ACC-DMO-003': [
        [18.5033900, 73.8100040],
        [18.5034170, 73.8107610],
        [18.5031270, 73.8107530],
        [18.5027750, 73.8107430],
        [18.5025390, 73.8107320],
        [18.5019830, 73.8107120],
        [18.5019810, 73.8107330],
        [18.5019730, 73.8107530],
        [18.5019950, 73.8108180],
        [18.5020310, 73.8110620],
        [18.5020430, 73.8111690],
        [18.5020840, 73.8115140],
        [18.5020990, 73.8116680],
        [18.5021120, 73.8117940],
        [18.5021670, 73.8121100],
        [18.5021610, 73.8122490],
        [18.5021730, 73.8124020],
        [18.5021820, 73.8125190],
        [18.5021840, 73.8126580],
        [18.5021770, 73.8128800],
        [18.5021530, 73.8133360],
        [18.5021750, 73.8133510],
        [18.5021890, 73.8133660],
        [18.5021880, 73.8135780],
        [18.5021750, 73.8136000],
        [18.5021570, 73.8136100],
        [18.5021140, 73.8136150],
        [18.5021090, 73.8137030],
        [18.5021020, 73.8138380],
        [18.5021030, 73.8139300],
        [18.5021030, 73.8140260],
        [18.5021050, 73.8142140],
        [18.5021060, 73.8144110],
        [18.5021400, 73.8144870],
        [18.5021450, 73.8147650],
        [18.5021480, 73.8149350],
        [18.5021500, 73.8150470],
        [18.5021420, 73.8152040],
        [18.5021290, 73.8154480],
        [18.5021340, 73.8154780],
        [18.5021410, 73.8155230],
        [18.5021580, 73.8156280],
        [18.5022510, 73.8161980],
        [18.5023180, 73.8165040],
        [18.5024150, 73.8169410],
        [18.5024750, 73.8171630],
        [18.5024990, 73.8172530],
        [18.5025760, 73.8175360],
        [18.5027960, 73.8182740],
        [18.5028110, 73.8183250],
        [18.5028640, 73.8184860],
        [18.5028840, 73.8185490],
        [18.5029970, 73.8188920],
        [18.5031890, 73.8193980],
        [18.5032760, 73.8196040],
        [18.5033700, 73.8197790],
        [18.5034850, 73.8199260],
        [18.5035340, 73.8199880],
        [18.5036330, 73.8201260],
        [18.5036760, 73.8201870],
        [18.5038700, 73.8204660],
        [18.5041480, 73.8209120],
        [18.5042110, 73.8210130],
        [18.5042500, 73.8210760],
        [18.5042900, 73.8211430],
        [18.5043440, 73.8212330],
        [18.5044710, 73.8214460],
        [18.5045110, 73.8215230],
        [18.5046570, 73.8218040],
        [18.5048880, 73.8223210],
        [18.5049440, 73.8224460],
        [18.5051200, 73.8228560],
        [18.5051340, 73.8228900],
        [18.5051420, 73.8229140],
        [18.5053090, 73.8233970],
        [18.5054140, 73.8237780],
        [18.5055330, 73.8242120],
        [18.5056440, 73.8246170],
        [18.5057230, 73.8249000],
        [18.5057330, 73.8249300],
        [18.5057810, 73.8250750],
        [18.5059720, 73.8254650],
        [18.5060020, 73.8256030],
        [18.5060420, 73.8257270],
        [18.5060580, 73.8257770],
        [18.5061570, 73.8260280],
        [18.5063160, 73.8264210],
        [18.5067160, 73.8272620],
        [18.5067940, 73.8274330],
        [18.5068330, 73.8275180],
        [18.5069110, 73.8277100],
        [18.5070860, 73.8280970],
        [18.5071140, 73.8281590],
        [18.5074960, 73.8289270],
        [18.5075800, 73.8290840],
        [18.5076430, 73.8292020],
        [18.5076930, 73.8293550],
        [18.5097800, 73.8334090],
        [18.5098960, 73.8335800],
        [18.5100110, 73.8338080],
        [18.5100890, 73.8339650],
        [18.5101170, 73.8340210],
        [18.5101510, 73.8340890],
        [18.5102380, 73.8342610],
        [18.5103780, 73.8345420],
        [18.5105080, 73.8348420],
        [18.5106500, 73.8351710],
        [18.5107440, 73.8353720],
        [18.5109720, 73.8358150],
        [18.5110990, 73.8360970],
        [18.5111250, 73.8361460],
        [18.5112170, 73.8363570],
        [18.5112420, 73.8364070],
        [18.5113640, 73.8366570],
        [18.5114800, 73.8368920],
        [18.5115920, 73.8371100],
        [18.5116520, 73.8372260],
        [18.5116700, 73.8372620],
        [18.5117030, 73.8373280],
        [18.5117250, 73.8373720],
        [18.5117400, 73.8374020],
        [18.5118850, 73.8376950],
        [18.5121150, 73.8381590],
        [18.5122640, 73.8384650],
        [18.5124290, 73.8388030],
        [18.5125180, 73.8389840],
        [18.5126580, 73.8392720],
        [18.5127780, 73.8395500],
        [18.5128650, 73.8397530],
        [18.5128880, 73.8398130],
        [18.5131280, 73.8404480],
        [18.5131590, 73.8405300],
        [18.5131770, 73.8405750],
        [18.5132020, 73.8406370],
        [18.5132530, 73.8407610],
        [18.5133430, 73.8409230],
        [18.5134550, 73.8410910],
        [18.5135750, 73.8412150],
        [18.5137110, 73.8413570],
        [18.5138460, 73.8415000],
        [18.5139080, 73.8415660],
        [18.5144050, 73.8421050],
        [18.5144810, 73.8422080],
        [18.5144840, 73.8422110],
        [18.5145140, 73.8422600],
        [18.5145490, 73.8423270],
        [18.5145940, 73.8424160],
        [18.5145160, 73.8424410],
        [18.5144860, 73.8424550],
        [18.5144060, 73.8424890],
        [18.5143780, 73.8425090],
        [18.5141720, 73.8426570],
        [18.5132490, 73.8433910],
        [18.5130610, 73.8435410],
        [18.5129710, 73.8436550],
        [18.5128790, 73.8437730],
        [18.5128750, 73.8437770],
        [18.5128010, 73.8438540],
        [18.5128500, 73.8439550],
        [18.5130560, 73.8441110],
        [18.5134180, 73.8443830],
        [18.5138190, 73.8447090],
        [18.5143540, 73.8451960],
        [18.5147430, 73.8455490],
        [18.5153030, 73.8460240],
        [18.5154310, 73.8461390],
        [18.5156220, 73.8463560],
        [18.5156490, 73.8463910],
        [18.5156850, 73.8464370],
        [18.5157740, 73.8467220],
        [18.5158040, 73.8468130],
        [18.5158740, 73.8469970],
        [18.5159660, 73.8472840],
        [18.5160290, 73.8475120],
        [18.5161130, 73.8477960],
        [18.5161520, 73.8479630],
        [18.5161990, 73.8490920],
        [18.5162100, 73.8493430],
        [18.5162180, 73.8495490],
        [18.5162570, 73.8497090],
        [18.5162910, 73.8497810],
        [18.5163300, 73.8498650],
        [18.5164030, 73.8499850],
        [18.5164010, 73.8508110],
        [18.5164010, 73.8510380],
        [18.5164000, 73.8510700],
        [18.5163830, 73.8520120],
        [18.5163780, 73.8522880],
        [18.5164170, 73.8528720],
        [18.5164090, 73.8531060],
        [18.5163980, 73.8532840],
        [18.5163710, 73.8535670],
        [18.5163850, 73.8536960],
        [18.5164570, 73.8538570],
        [18.5169540, 73.8539040],
        [18.5175810, 73.8539620],
        [18.5177930, 73.8539770],
        [18.5179680, 73.8539900],
        [18.5181180, 73.8540000],
        [18.5182570, 73.8540530],
        [18.5183010, 73.8540700],
        [18.5184500, 73.8541950],
        [18.5185270, 73.8543300],
        [18.5185590, 73.8545270],
        [18.5193350, 73.8545030],
        [18.5196780, 73.8544930],
        [18.5200770, 73.8544760],
        [18.5201570, 73.8544920],
        [18.5202280, 73.8545320],
        [18.5202920, 73.8546080],
        [18.5203420, 73.8546740],
        [18.5204260, 73.8547710],
        [18.5206450, 73.8549970],
        [18.5207440, 73.8550840],
        [18.5208010, 73.8551200],
        [18.5209290, 73.8551800],
        [18.5209650, 73.8552200],
        [18.5209970, 73.8552550],
        [18.5210130, 73.8552770],
        [18.5210240, 73.8553070],
        [18.5210270, 73.8553210],
        [18.5210260, 73.8553360],
        [18.5210180, 73.8553730],
        [18.5210160, 73.8553840],
        [18.5210060, 73.8554330],
        [18.5208560, 73.8555360],
        [18.5206650, 73.8556950],
        [18.5206680, 73.8557890],
        [18.5206760, 73.8561020],
        [18.5206570, 73.8562750],
        [18.5206530, 73.8564600],
        [18.5205520, 73.8564620],
        [18.5204150, 73.8564760],
        [18.5203740, 73.8564810],
    ],

    // Tutorial: Kothrud → Central Pune
    'ACC-TUT-001': [
        [18.5033900, 73.8100040],
        [18.5034170, 73.8107610],
        [18.5031270, 73.8107530],
        [18.5027750, 73.8107430],
        [18.5025390, 73.8107320],
        [18.5019830, 73.8107120],
        [18.5019810, 73.8107330],
        [18.5019730, 73.8107530],
        [18.5019950, 73.8108180],
        [18.5020310, 73.8110620],
        [18.5020430, 73.8111690],
        [18.5020840, 73.8115140],
        [18.5020990, 73.8116680],
        [18.5021120, 73.8117940],
        [18.5021670, 73.8121100],
        [18.5021610, 73.8122490],
        [18.5021730, 73.8124020],
        [18.5021820, 73.8125190],
        [18.5021840, 73.8126580],
        [18.5021770, 73.8128800],
        [18.5021530, 73.8133360],
        [18.5021750, 73.8133510],
        [18.5021890, 73.8133660],
        [18.5021880, 73.8135780],
        [18.5021750, 73.8136000],
        [18.5021570, 73.8136100],
        [18.5021140, 73.8136150],
        [18.5021090, 73.8137030],
        [18.5021020, 73.8138380],
        [18.5021030, 73.8139300],
        [18.5021030, 73.8140260],
        [18.5021050, 73.8142140],
        [18.5021060, 73.8144110],
        [18.5021400, 73.8144870],
        [18.5021450, 73.8147650],
        [18.5021480, 73.8149350],
        [18.5021500, 73.8150470],
        [18.5021420, 73.8152040],
        [18.5021290, 73.8154480],
        [18.5021340, 73.8154780],
        [18.5021410, 73.8155230],
        [18.5021580, 73.8156280],
        [18.5022510, 73.8161980],
        [18.5023180, 73.8165040],
        [18.5024150, 73.8169410],
        [18.5024750, 73.8171630],
        [18.5024990, 73.8172530],
        [18.5025760, 73.8175360],
        [18.5027960, 73.8182740],
        [18.5028110, 73.8183250],
        [18.5028640, 73.8184860],
        [18.5028840, 73.8185490],
        [18.5029970, 73.8188920],
        [18.5031890, 73.8193980],
        [18.5032760, 73.8196040],
        [18.5033700, 73.8197790],
        [18.5034850, 73.8199260],
        [18.5035340, 73.8199880],
        [18.5036330, 73.8201260],
        [18.5036760, 73.8201870],
        [18.5038700, 73.8204660],
        [18.5041480, 73.8209120],
        [18.5042110, 73.8210130],
        [18.5042500, 73.8210760],
        [18.5042900, 73.8211430],
        [18.5043440, 73.8212330],
        [18.5044710, 73.8214460],
        [18.5045110, 73.8215230],
        [18.5046570, 73.8218040],
        [18.5048880, 73.8223210],
        [18.5049440, 73.8224460],
        [18.5051200, 73.8228560],
        [18.5051340, 73.8228900],
        [18.5051420, 73.8229140],
        [18.5053090, 73.8233970],
        [18.5054140, 73.8237780],
        [18.5055330, 73.8242120],
        [18.5056440, 73.8246170],
        [18.5057230, 73.8249000],
        [18.5057330, 73.8249300],
        [18.5057810, 73.8250750],
        [18.5059720, 73.8254650],
        [18.5060020, 73.8256030],
        [18.5060420, 73.8257270],
        [18.5060580, 73.8257770],
        [18.5061570, 73.8260280],
        [18.5063160, 73.8264210],
        [18.5067160, 73.8272620],
        [18.5067940, 73.8274330],
        [18.5068330, 73.8275180],
        [18.5069110, 73.8277100],
        [18.5070860, 73.8280970],
        [18.5071140, 73.8281590],
        [18.5074960, 73.8289270],
        [18.5075800, 73.8290840],
        [18.5076430, 73.8292020],
        [18.5076930, 73.8293550],
        [18.5097800, 73.8334090],
        [18.5098960, 73.8335800],
        [18.5100110, 73.8338080],
        [18.5100890, 73.8339650],
        [18.5101170, 73.8340210],
        [18.5101510, 73.8340890],
        [18.5102380, 73.8342610],
        [18.5103780, 73.8345420],
        [18.5105080, 73.8348420],
        [18.5106500, 73.8351710],
        [18.5107440, 73.8353720],
        [18.5109720, 73.8358150],
        [18.5110990, 73.8360970],
        [18.5111250, 73.8361460],
        [18.5112170, 73.8363570],
        [18.5112420, 73.8364070],
        [18.5113640, 73.8366570],
        [18.5114800, 73.8368920],
        [18.5115920, 73.8371100],
        [18.5116520, 73.8372260],
        [18.5116700, 73.8372620],
        [18.5117030, 73.8373280],
        [18.5117250, 73.8373720],
        [18.5117400, 73.8374020],
        [18.5118850, 73.8376950],
        [18.5121150, 73.8381590],
        [18.5122640, 73.8384650],
        [18.5124290, 73.8388030],
        [18.5125180, 73.8389840],
        [18.5126580, 73.8392720],
        [18.5127780, 73.8395500],
        [18.5128650, 73.8397530],
        [18.5128880, 73.8398130],
        [18.5131280, 73.8404480],
        [18.5131590, 73.8405300],
        [18.5131770, 73.8405750],
        [18.5132020, 73.8406370],
        [18.5132530, 73.8407610],
        [18.5133430, 73.8409230],
        [18.5134550, 73.8410910],
        [18.5135750, 73.8412150],
        [18.5137110, 73.8413570],
        [18.5138460, 73.8415000],
        [18.5139080, 73.8415660],
        [18.5144050, 73.8421050],
        [18.5144810, 73.8422080],
        [18.5144840, 73.8422110],
        [18.5145140, 73.8422600],
        [18.5145490, 73.8423270],
        [18.5145940, 73.8424160],
        [18.5145160, 73.8424410],
        [18.5144860, 73.8424550],
        [18.5144060, 73.8424890],
        [18.5143780, 73.8425090],
        [18.5141720, 73.8426570],
        [18.5132490, 73.8433910],
        [18.5130610, 73.8435410],
        [18.5129710, 73.8436550],
        [18.5128790, 73.8437730],
        [18.5128750, 73.8437770],
        [18.5128010, 73.8438540],
        [18.5128500, 73.8439550],
        [18.5130560, 73.8441110],
        [18.5134180, 73.8443830],
        [18.5138190, 73.8447090],
        [18.5143540, 73.8451960],
        [18.5147430, 73.8455490],
        [18.5153030, 73.8460240],
        [18.5154310, 73.8461390],
        [18.5156220, 73.8463560],
        [18.5156490, 73.8463910],
        [18.5156850, 73.8464370],
        [18.5157740, 73.8467220],
        [18.5158040, 73.8468130],
        [18.5158740, 73.8469970],
        [18.5159660, 73.8472840],
        [18.5160290, 73.8475120],
        [18.5161130, 73.8477960],
        [18.5161520, 73.8479630],
        [18.5161990, 73.8490920],
        [18.5162100, 73.8493430],
        [18.5162180, 73.8495490],
        [18.5162570, 73.8497090],
        [18.5162910, 73.8497810],
        [18.5163300, 73.8498650],
        [18.5164030, 73.8499850],
        [18.5164010, 73.8508110],
        [18.5164010, 73.8510380],
        [18.5164000, 73.8510700],
        [18.5163830, 73.8520120],
        [18.5163780, 73.8522880],
        [18.5164170, 73.8528720],
        [18.5164090, 73.8531060],
        [18.5163980, 73.8532840],
        [18.5163710, 73.8535670],
        [18.5163850, 73.8536960],
        [18.5164570, 73.8538570],
        [18.5169540, 73.8539040],
        [18.5175810, 73.8539620],
        [18.5177930, 73.8539770],
        [18.5179680, 73.8539900],
        [18.5181180, 73.8540000],
        [18.5182570, 73.8540530],
        [18.5183010, 73.8540700],
        [18.5184500, 73.8541950],
        [18.5185270, 73.8543300],
        [18.5185590, 73.8545270],
        [18.5193350, 73.8545030],
        [18.5196780, 73.8544930],
        [18.5200770, 73.8544760],
        [18.5201570, 73.8544920],
        [18.5202280, 73.8545320],
        [18.5202920, 73.8546080],
        [18.5203420, 73.8546740],
        [18.5204260, 73.8547710],
        [18.5206450, 73.8549970],
        [18.5207440, 73.8550840],
        [18.5208010, 73.8551200],
        [18.5209290, 73.8551800],
        [18.5209650, 73.8552200],
        [18.5209970, 73.8552550],
        [18.5210130, 73.8552770],
        [18.5210240, 73.8553070],
        [18.5210270, 73.8553210],
        [18.5210260, 73.8553360],
        [18.5210180, 73.8553730],
        [18.5210160, 73.8553840],
        [18.5210060, 73.8554330],
        [18.5208560, 73.8555360],
        [18.5206650, 73.8556950],
        [18.5206680, 73.8557890],
        [18.5206760, 73.8561020],
        [18.5206570, 73.8562750],
        [18.5206530, 73.8564600],
        [18.5205520, 73.8564620],
        [18.5204150, 73.8564760],
        [18.5203740, 73.8564810],
    ],

};

/**
 * Fetch an OSRM route with a timeout, returning null on failure.
 * Includes large snapping radius and continue_straight for accurate
 * road-matching of intersection center coordinates.
 *
 * Circuit-breaker: after a complete failure, all retries are suppressed
 * for OSRM_COOLDOWN_MS to avoid hammering unreachable public endpoints.
 */

// Circuit-breaker state (module-level, survives re-renders)
const OSRM_COOLDOWN_MS = 2 * 60 * 1000; // 2 minutes
let osrmFailedUntil = 0;

export async function fetchOSRMRoute(
    fromLng: number, fromLat: number,
    toLng: number, toLat: number,
    timeoutMs = 5000,
    externalSignal?: AbortSignal,
): Promise<[number, number][] | null> {
    // Circuit open – skip silently until cooldown expires
    if (Date.now() < osrmFailedUntil) return null;

    const coords = `${fromLng},${fromLat};${toLng},${toLat}`;
    const params = `overview=full&geometries=geojson&continue_straight=true&radiuses=2000;2000&snapping=any`;

    const endpoints = [
        `https://router.project-osrm.org/route/v1/driving/${coords}?${params}`,
        `https://routing.openstreetmap.de/routed-car/route/v1/driving/${coords}?${params}`,
    ];

    for (const url of endpoints) {
        if (externalSignal?.aborted) break;
        try {
            const controller = new AbortController();
            const timer = setTimeout(() => controller.abort(), timeoutMs);

            // Forward external cancellation into the per-request controller
            const onExternalAbort = () => controller.abort();
            externalSignal?.addEventListener('abort', onExternalAbort, { once: true });

            let resp: Response;
            try {
                resp = await fetch(url, { signal: controller.signal });
            } finally {
                clearTimeout(timer);
                externalSignal?.removeEventListener('abort', onExternalAbort);
            }

            if (!resp.ok) continue;
            const data = await resp.json();
            if (data.routes?.[0]?.geometry?.coordinates?.length >= 2) {
                const pts = data.routes[0].geometry.coordinates.map(
                    (c: [number, number]) => [c[1], c[0]] as [number, number]
                );
                console.log(`[OSRM] ✅ ${pts.length} pts from ${new URL(url).hostname}`);
                // Success – reset the circuit breaker
                osrmFailedUntil = 0;
                return pts;
            }
        } catch (e) {
            // Swallow noise from external cancellations
            if (externalSignal?.aborted) break;
            console.warn(`[OSRM] ⚠ ${new URL(url).hostname}: ${(e as Error).message}`);
        }
    }

    // Only trip the circuit breaker for genuine failures, not external aborts
    if (!externalSignal?.aborted) {
        osrmFailedUntil = Date.now() + OSRM_COOLDOWN_MS;
        console.warn(`[OSRM] ❌ All endpoints failed for ${coords} – pausing retries for ${OSRM_COOLDOWN_MS / 1000}s`);
    }
    return null;
}
